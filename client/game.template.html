<!doctype html>
<html lang="en">
    <head>
        [[template "header"]]
        <title>Game: [[.Code]] - Three Names in a Hat</title>
    </head>
    <body>
        <div class="paper container text-center margin-top">
            <div id="game" data-code="[[.Code]]">
                <div v-if="error" v-cloak>
                    <div class="alert alert-danger">{{error}}</div>
                    <a class="paper-btn btn-large" href="/">Try Again</a>
                </div>
                <form v-else-if="!game" @submit.prevent="join">
                    <div class="form-group">
                        <label for="playerName">Enter your name:</label>
                        <input class="input-block input-large"
                            v-model="playerName"
                            v-focus
                            type="text"
                            id="playerName">
                        <p v-if="playerNameErr" class="text-danger">{{playerNameErr}}</p>
                    </div>
                    <button type="submit" class="btn-large"
                        :disabled="joinLoading"
                        :class="{'loading':joinLoading}">Join</button>
                </form>
                <div v-else>
                    <h2>Enter the Code below to join</h2>
                    <h1 id="gameCode"><strong>{{code}}</strong></h1>
                    <div>
                        <h3>Players currently in the game: </h3>
                        <div class="row">
                            <div class="col-6 col">
                                <h3>Team 1</h3>
                                <p v-for="player of game.team1.players"
                                    key="player.name"
                                    class="player-name">{{player.name}}</p>
                            </div>
                            <div class="col-6 col">
                                <h3>Team 2</h3>
                                <p v-for="player of game.team2.players"
                                    key="player.name"
                                    class="player-name">{{player.name}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        [[template "footer"]]

        <script src="/js/vue.min.js"></script>
        <script src="/js/game.js"></script>
    </body>
</html>